<!-- @{
    ViewData["Title"] = "Chapter Details";
}

<div class="position-relative text-center">
    <!-- Back Button -->
    <a href="/" class="btn btn-warning position-absolute top-0 start-0 m-3">â¬… Back</a>

    <!-- Top Image -->
    <img src="~/Assets/image.png" class="img-fluid" style="max-height: 300px; width: auto;" alt="Top Image">

    <!-- Chapter Name -->
    <h2 id="chapterTitle" class="mt-3" style="color: #FF8C00; font-weight: bold;"></h2>
    <p id="totalShlokas" class="text-muted"></p>
</div>

<!-- List of Shlokas -->
<div class="container mt-4">
    <div class="list-group" id="shloka-list"></div>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const urlParams = new URLSearchParams(window.location.search);
        const chapterId = urlParams.get("id");
        const chapterName = urlParams.get("name");
        const totalShlokas = urlParams.get("total");

        // Set Chapter Title
        document.getElementById("chapterTitle").innerText = chapterName;
        document.getElementById("totalShlokas").innerText = `Total Shlokas: ${totalShlokas}`;

        // Fetch and Display Shlokas
        fetch(`/api/Shloka/${chapterId}`)
            .then(response => response.json())
            .then(data => {
                const listContainer = document.getElementById("shloka-list");
                data.forEach(shloka => {
                    let shlokaItem = `
                        <div class="list-group-item custom-container d-flex">
                            <div class="count-section text-center flex-fill p-2">${shloka.shlokaNumber}</div>
                            <div class="list-section text-center flex-fill p-2">${shloka.shlokaText}</div>
                        </div>
                    `;
                    listContainer.innerHTML += shlokaItem;
                });
            });
    });
</script> -->
